webpackJsonp([4],{IcnI:function(e,t,n){"use strict";var r=n("mvHQ"),i=n.n(r),a=n("7+uW"),u=n("NYxO"),s=n("gyMJ");a.a.use(u.a);var m=new u.a.Store({state:{currentUser:s.a.currentUser,resumeTemplate:[{name:"profile",icon:"id",isSingle:!0,title:"个人信息",template:[{item:"姓名",type:"text"},{item:"年龄",type:"number"},{item:"所在地",type:"text"}]},{name:"workhistory",icon:"work",isSingle:!1,title:"工作经历",template:[{item:"工作地点",type:"text"},{item:"开始时间",type:"date"},{item:"结束时间",type:"date"},{item:"工作内容",type:"text"}]},{name:"education",icon:"book",isSingle:!1,title:"教育经历",template:[{item:"学校",type:"text"},{item:"学历",type:"text"},{item:"开始时间",type:"date"},{item:"结束时间",type:"date"}]},{name:"projects",icon:"heart",isSingle:!1,title:"项目经验",template:[{item:"项目名称",type:"text"},{item:"项目介绍",type:"text"},{item:"负责内容",type:"text"}]},{name:"awards",icon:"cup",isSingle:!1,title:"获奖经历",template:[{item:"奖项名称",type:"text"},{item:"奖项介绍",type:"text"}]},{name:"contacts",icon:"phone",isSingle:!0,title:"联系方式",template:[{item:"手机",type:"text"},{item:"Email",type:"text"},{item:"QQ",type:"text"},{item:"微信",type:"text"}]}],resume:{}},mutations:{login:function(e,t){e.currentUser=t},logout:function(e){e.currentUser=!1,e.resume={},s.a.logout()},singleInit:function(e){e.resumeTemplate.forEach(function(t,n){t.isSingle&&(e.resume[t.name]||(e.resume[t.name]=[[]]),t.template.forEach(function(n,r){e.resume[t.name][0][r]||(e.resume[t.name][0][r]="")}))})},addItem:function(e,t){var n=[],r=e.resumeTemplate[t.order].name;e.resumeTemplate[t.order].template.forEach(function(){n.push("")}),e.resume[r]||a.a.set(e.resume,r,[]),a.a.set(e.resume[r],e.resume[r].length,n)},removeItem:function(e,t){var n=e.resumeTemplate[t.order].name;e.resume[n].splice(t.index,1)},doInput:function(e,t){e.resume[t.name][t.index][t.idx]=t.val,e.resume=JSON.parse(i()(e.resume))},setResumeId:function(e,t){a.a.set(e.resume,"id",t.id)},resumeInit:function(e,t){e.resume=t.resume,a.a.set(e.resume,"id",t.id)}},getters:{clearResume:function(e){var t={};for(var n in e.resume)"id"!==n&&0!==e.resume[n].length&&(t[n]=e.resume[n].filter(function(e){var t=!1;return e.forEach(function(e){e&&(t=!0)}),t}));for(var r in t)0===t[r].length&&delete t[r];return t}},actions:{login:function(e,t){e.commit;s.a.login(t.username,t.password,function(e){m.commit("login",e)})},resumeInit:function(e){e.commit;s.a.getResume(function(e,t){m.commit("resumeInit",{resume:e,id:t})})}}});t.a=m},M93x:function(e,t,n){"use strict";var r=n("xJD8"),i=n("nTJO"),a=n("VU/8"),u=a(r.a,i.a,!1,null,null,null);t.a=u.exports},MPzD:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),i=n("M93x"),a=n("YaEn");r.a.config.productionTip=!1,new r.a({el:"#app",router:a.a,template:"<App/>",components:{App:i.a}})},YaEn:function(e,t,n){"use strict";var r=n("7+uW"),i=n("/ocq"),a=function(){return n.e(1).then(n.bind(null,"42Hy"))},u=function(){return n.e(0).then(n.bind(null,"hhS8"))},s=function(){return n.e(2).then(n.bind(null,"dIqY"))};r.a.use(i.a),t.a=new i.a({routes:[{path:"/",name:"Index",component:a},{path:"/resumer",name:"Resumer",component:u},{path:"/register",name:"Register",component:s}]})},gyMJ:function(e,t,n){"use strict";var r=n("mvHQ"),i=n.n(r),a=n("JnRc"),u=n.n(a);u.a.init({appId:"i8UMndQ06qVVICpGxv4kEFgL-gzGzoHsz",appKey:"behHzbmdtnHQGL98jSxg1LIk"}),t.a={register:function(e,t,n){var r=new u.a.User;r.setUsername(e),r.setPassword(t),r.signUp().then(function(e){n()},function(e){return alert(e),!1})},login:function(e,t,n){u.a.User.logIn(e,t).then(function(e){n(u.a.User.current())},function(e){alert(e)})},currentUser:u.a.User.current(),getResume:function(e){new u.a.Query("Resume").find().then(function(t){var n=t[0].attributes.resume,r=t[0].id;e(JSON.parse(n),r)},function(e){alert(e)})},setResume:function(e,t){var n=function(e){var t=new u.a.ACL;t.setReadAccess(u.a.User.current(),!0),t.setWriteAccess(u.a.User.current(),!0),e.setACL(t)},r=i()(t);if(t.id){var a=u.a.Object.createWithoutData("Resume",t.id);n(a),a.set("resume",r),a.save().then(function(){alert("更新成功")})}else{var s=u.a.Object.extend("Resume"),m=new s;n(m),m.set("resume",r),m.save().then(function(t){e.commit("setResumeId",{id:t.id}),alert("保存成功")},function(e){alert(e)})}},logout:function(){u.a.User.logOut()}}},nTJO:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],a={render:r,staticRenderFns:i};t.a=a},xJD8:function(e,t,n){"use strict";var r=n("MPzD"),i=(n.n(r),n("IcnI"));t.a={name:"app",store:i.a}}},["NHnr"]);
//# sourceMappingURL=app.8753a1cec3c12f778229.js.map